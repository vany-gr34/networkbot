mot_cl√©,post_et_reponses
monitoring switches with Prometheus,"hey all, just thinking about setting up some network monitoring and id like to monitor intrazone traffic within an esxi environment. after some research, it looks like promiscuous mode on a port group is viable however, it would only capture broadcast, multicast and the traffic hitting the physical nics. as far as i know, this wouldnt capture any unicast traffic between vms in the same port group for example. have any of ye gone down this route with standard v switches or is the req. simply distrubuted switches? || "
monitoring switches with Prometheus,"hey all, i dont have a plethora of experience in specifics in networking. ive used and set up vlans, nats, and subnets multiple times. i work in the industrial automatic space for an oem that makes packaging equipment. our customers are often bigger companies that have their own specifications for networking. generally it makes sense and aligns with my understanding of networking hierarchy and security. but we have one customer who requires us to use managed switches, and will dictate to us which ip addresses we can use and often get down to the specifics of which deviceip is connected to which port on the switch. they require us to ship them the switch were using so they can provision and configure it, then they ship it back. all of that is fine, and makes sense. the confusing part for me is that in their specifications documentation, it specifies that a nat cannot be used anywhere in the system. what inevitably happens is the systems principal controller plc first port is on a specified subnet with the rest of the equipmentdevices. the controllers second port is configured to a different subnet, which then connects to the customers intranet through the managed switch to be monitored and maintained. i recently asked the person who essentially leads all automation equipment purchasing for that customer, and i asked if he knew why the company has a firm requirement of not using a nat. he just said, ohhh, no no no. nats are a big nono. since then, ive been reading and i, for the life of me, cannot understand why this could be. but i also admit i dont know enough to know where to look. in my mind, the way the second port is configured and then connected through the switch mimics the actions of a nat. can someone explain how im a silly goose thats overlooking something? thanks in advance! || ot equipment and their vendors are notoriously bad at anything security related. especially the vpn devices the vendors love to try to sneak on to the network to have remote access to their stuff. there is no need for nat if i give you the address space to use and a gateway to route traffic to. also, when i have to yank that vpn device out because the vendor has been hacked again i can easily replace it with my own. ifwhen we want to expand or connect or add additional automation or collect data i can do that with out having to rely on you to come back and readdress the equipment so that its routable on my network. ive seen ot equipment using insane subnets that are routable over the public internet. no your plc cannot have an address of 1.1.1.1 or 1.2.3.4 and no your hmi cannot be 8.8.8.8 or any other random address ive seen outside of rfc1918. long story short, its our network, if your equipment cant handle different ip addresses from whatever you think it should be, it is not welcome in our environment. that being said i bend over backwards to get ot vendors to see the light and do things the right way. || nat sometimes breaks applications. || for mei can see a couple reasons. one is to make sure devices stay physically isolated. no gateway to the outside world. only the plc and its endpoints. i also know plcs and vfds can be harsh on a network and having nat manage that net can cause issues with its broadcast multicast storms. and it may be a security red safety system policy that isolated networks are in place with no possible way to interfere with the safety control endpoints. the absence of nat also means no openvpn, openssl, wireguard, ipsec etc. can possibly gain access. || if i had to take a guess, its because the natd subnet wouldnt be advertised through their routing protocol, and thus unroutable. i cant think of any reason you would want to use a nat. but i also cant think of a security concern that it would create. so my conclusion is its a routing issue. || sounds like its a closed network. as nat is used to translate internal ip to external ip. so assuming no nat this is an environment thats specifically locked down. so dod, ot, or high security environment. this is common in these environments. as nat is done at the routerfirewall level. so they most likely have separate isp line for external communication and an internal network that is not connected to route to isp gateway next hop. || is there a certain nat operation that they dont want to have done? for example dnat from wan? that would make sense. other than that, as a network technican im a bit stumbled by that. we supply ipsec routers for a machine manufacturer which sell their machines globally and every router performs various nat operations 11nat, snat. it has never been a problem, why would it? it happens in our part of the network. but i would restrain on requering the customers to create nat rules on their routing equipment. we just need a list of permitted outgoing ports ntp, dns, ipsec"
monitoring switches with Prometheus,"i currently work as a net admin for a large health care organization, 4 years experience. i am paid 72kyr no benefits but good teammates and manager, get to touch a lot and learn a lot palo alto firewall, nac, routeswitch, sdwan, solarwinds, linux servers, certificates, active directory, data center, cloud, voip, etc. got an offer for a network engineer role at a large f500 company. after the interview i learned that this network team doesnt touch firewall, nac, monitoring, servers, ad etc, its purely onsite traditional routeswitchwireless. the pay is 95k100k with full benefits. wondering what i should value more at this point in my career. if i stay at the current organization i will learn a lot more, have the chance to work my way up to engineer within the next 23 years with a good team i trust. on the other hand if i jump ship to the new f500, i would have a very prestigious title at a very prestigious company and make a ton more money. my only concern is im afraid i may be siloed into traditional networking when ive been trying to inch my way more into cloud, and network security. what would you do? what is more valuable? money or experience? edit i also want to mention job stability because thats important in this economy. the current organization is recession proof in a way, i have full job security here, never any layoffs in 80 years, whereas the f500 is in an economy dependent industry that is known for mass layoffs. should this should be taken into consideration due to the current state of the economy? || why would you wait 23 years for a title bump to network engineer when youre already doing network engineer things. if you are making changes to firewalls andor switches then youre already a network engineer. shouldnt even been thinking about this, take the new job and work on some cloud certs and use it as leverage for an even higher paying cloud architect job in the future. edit if you really like your current job and team ask them to match the offer benefits title now. || in a perfect world youd get it all, right? but i can say i notice the benefits of money everyday, and of experience once in awhile. || make the switch and take the money. keep learning and building your skill set. once you feel things are stagnating then make another switch. education is important but youre working for money. || i cant answer this question for you but ill give you a perspective. you already have experience with firewalls, linux and a host of other stuff that the new team doesnt touch. this makes you more valuable in my eyes as you should be able to identify and resolve issues quicker or more effectively cause you have seen the other side dont blame the network essentially. another thing to consider is you say you can reach l23 level which may provide more monetary benefit lets say 4 years down the line. if you make the switch today, thats a potential extra 250k over 10 years. in 10 years time, will the extra payment from a promotion 4 years down the line, offset the 250k, and if so by how much? || 72kyr sounds low depending on locationcost of living i dont know how much value the benefits give, but it sounds like the f500 company is the right move if you want to hone in on those skills. theres nothing wrong with being a jack of all trades master of none either. || the f500 pays you more, gives you less responsibility, provides more upwardlateral mobility, and offers a much better opportunity to pivot into another large company if you decide its not for you. you can learn all the fancy useless tech which may never be used at work at home and pad your resume however you want once your foot is in the door. || leave in a heartbeat for benefits. who cares on what technology you get touch. get a title and pay bump is worth it. || id go based on the benefits alone. || i cannot give you the answer but i am wondering the same thing, the technologies you described are almost exactly what i use in my current rolemoving more and more towards azure, but always wondered if i should make a move towards classical networking in an isp or something. very interested what the answers will be here. || genuine question not trying to be an asshole, but what do you mean by no benefits? do you mean like...no bonus? bad pto? or do you mean like...no insurance? || take it! youre new and need more ink on the resume, plus you get a very nice pay increase and a f500 name on the resume as well. congrats! || first thing i would say is that no job is going to keep you from working on what you want to work on...or learn what you want to learn. that said, dont get nostalgic or fall in love with any jobcompany. put yourself in the best position for your current needs. with your current job, you say you touch all these different technologies. are you an expert level engineer on them? does your access permit you to become an expert on them if youre not? for the new job, being a network engineer usually includes networking in the cloud and network security tasks. out of all the things you were mentioning, routing and switching is a great thing to be an expert on. ive interviewed probably 20 different network engineers in the past 5 years and none of them really knew routing and switching like you would want them to. experience is great when it is actually hands on and in depth, not just gui based or skimming the surface. i would make the move. thats my advice i guess. ive been doing this since the 1990s for reference. || i took a 25,000 a year pay cut moving from a public safety communications vendor to a local county. my title went from engineer to manager. my medical is fully covered by the county, i have a county vehicle that i take home, county matches retirement 21 so i put in 7 every match and double. my wife works for the hospital system, all the kids are on her insurance cheaper than putting them on mine. benefits sold the job. || it sounds like youre being taken advantage of right now. without benefits, hows your retirement accounts looking? how long do you have to retirement? i would not like to be the new guy the way the economy has been running the last few weeks, but if you take the extra money you would earn at the new place and put it away, youll be banking one month worth of emergency funds every three calendar months. and thats a pretty good risk offset. || dude, take the higher paying job at a bigger company with benefits. this is not even a question"
monitoring switches with Prometheus,"hello fellow networking folks, im currently trying to build a small monitoring solution for multicasts. in our lab we have a nexus9000 c93108tcex running version 7.0. i want to start with this device and maybe later continue supporting others. the goal is to see for each interface which multicasts are entering and which are leaving. sflow seems to be a viable solution for this problem since it just samples a defined subset of all the packets passing through the monitored interfaces. for each sampled packets sflow provides some additional information. for me the source id index and the input interface value are most interesting. i am keeping to the field descriptions provided by wireshark since different sources call them differently. when a packets arrives from outside the switch on one monitored interface, everything works flawlessly. i can compare the two values to the values in the mibii interface description. both values match as they should. when a packets is leaving the switch the story goes differently. the input interface value is correct so i can still see, on which physical interface a packet entered the switch. source id index always displays hex 0x80000000. it should show the interface i am monitoring right now, the interface from wich the packet was sampled. if the situation stays like that i can only properly monitor incoming multicasts but i cannot monitor through which interfaces packets leave the switch. in my opinion the cisco documentation is not really clear if this behavior is expected or not. for nxos 10.5 i found sflow does not support egress sampling for multicast, broadcast, or unknown unicast packets. but the nxos 7 documentation states egress sflow of multicast traffic requires hardware multicast globaltxspan configuration. which i tried. the other sentence in there drove me totally nuts for an ingress sflow sample of multicast packets, the out port is reported as multiple ports with the exact number of egress ports. this is not supported on cisco nexus 9300ex and fxp platform switches. like, what does this even mean? i would interpret it as you can see how many interfaces an incoming packet will go to, but not on your device. but that should not affect what i can see on the sampled egress packet, right? i assume that either i am not smart enough to read the documentation correctly or the documentation is not coherent. so my question is is it possible to correctly sample the information for egress multicast traffic with my switch and if so, what needs to be done. if it is not possible i am interested how well other vendors support sflow monitoring of multicast packet especially arista. is it only cisco implementing it weirdly or is there a bigger reason for this. im also thinking about possible alternatives for my implementation and if you think they could be possible 1. combine the snooping and group report with the input data show ip igmp snooping groups. this would be possible but is no true monitoring. i wouldnt know when the switch does not pass a packet. 2. cycle the sflow monitoring port. if i monitor only one port at a time i always know where a one multicast enters and where it leaves 3. i look at some other interface data counters or something similar if there are any correlations i can use to match output multicasts to interfaces in some way. if you have any ideas id appreciate your help. || "
monitoring switches with Prometheus,"hello all need some guidance here. i currently manage a smallmedium enterprise network with nexus 3k, nexus 2348 and nexus 9k switches in the datacenter. theres some intermittent slowness observed with some legacy applications and i need to identify whats causing it. we use solarwinds to monitor the infrastructure and nothing jumps out to me as the culprit. no oversubscription, no bottlenecks, no interface errors on the hosts where the application or database server is hosted. tried to show packet captures to prove that theres no network latency but nobody listens. is there any tool out there that can help really dissect this issue and point us in the right direction? at this point, i just need the problem to get resolved. thanks. || nexusshow interface counters errors the column all the way to the right is outdiscards. pay very close attention to that column. hit the space bar a bunch of times until you see indiscards. pay very close attention to that column, just to be thorough. solarwinds isnt precise enough to tell you if congestion is occurring. if eth11 is a 10gbe interface and eth12 is a 10gbe interface, and they both are receiving a 6gbps stream of traffic destined to a device on eth13, which is also a 10gbe port then you have 12gbps of traffic trying to fit into a 10gbps interface. this is congestion in a lan switch. since not all the traffic can fit, some of it must be buffered and sent when time allows. no switch has unlimited buffer memory. when buffer exhaustion occurs, and a packet must be dropped it will show up as an outdiscard. nexusshow interface flowcontrol flowcontrol is dumb. in my opinion, flow control should be disabled on every switch interface unless the device connected to that interface specifically says flow control is a bestpractice in its implementation guide. flowcontrol is a primitive form of early congestion control. when enabled on both ends, if either device estimates that it is about to run out of buffer memory capacity it can fire a pause frame at the connected device and demand that that device stop sending any traffic for some number of microseconds. from your switchs perspective, an rxpause is a pause frame received from the device connected on that switchport. a server is ashing this switch to hold up for a second. from your switchs perspective an txpause is a pause frame sent from this switch to the connected device asking that device to hold up for a second. flowcontrol doesnt care about qos prioritization. flowcontrol doesnt understand that some packets are more important than others. this is because flowcontrol is dumb. if your switch and the connected server have both negotiated flowcontrol to be on and you are not seeing any pause requests then neither device is crying for help to manage congestion. this suggests no congestion in the network is occurring. if your switch has flowcontrol disabled but you are receiving assloads of pause requests from the connected device, that device is the problem. he cant handle all the traffic you are sending him. send less traffic, or tune optimize that device so he can handle traffic better. here is the story you are trying to establish and support using data. the nexus 93180 switch only has 40mbytes of packet buffer memory in the whole box. that is the sum total of all possible storage in the switch for application traffic. solarwinds can help you depict how much total traffic is flowing through the switch at any given time. 40mb of storage is a very slim fraction of one second before it runs out of buffer capacity and starts dropping packets. if you arent dropping packets then the packets must be entering and exiting the switch really damned fast, if they werent youd fill the buffer and start dropping. a solarwinds graph might not be granular enough to show that interface utilization hit 135 utilization for eight seconds, but it is granular enough to show that you dropped 800 packets in the past 5 minutes on the switch port the server is connected to. if you arent dropping packets then you delivered them in a timely manner. if the network delivered the sql query request to the sql server in a tiny fraction of one second, and then you had to wait 37 seconds to receive the database response the problem isnt the network, the problem is inside the sql server. the usual suspects inside a database server are inefficient query bad programming cpu too busy inefficient query bad programming not enough ram inefficient query bad programming disk response time too slow inefficient query bad programming record locking multiple db operations are fighting over the exact same data at the same time inefficient query bad programming in case i forgot to mention it, more often than any other rootcause for a database performance problem is the developer is hitting the sql server with an inefficient database query. now, to answer your other question is there a product that can solve this? yes, but its expensive as fuck. what youre asking about is an application performance monitoring tool. the products listed in the topright quadrant are considered by gartner to be the bestofbreed products. if you engage cisco to watch a demo of appdynamics, or engage the dynatrace people for a demo of their product your whole department should start foaming at the mouth over how fantastically useful the data is. they can tell you exactly why your application is so slow. right down to the query string that is causing the problem, and can suggest a way to write a new string that might work better. this is gonna cost you an arm, a leg and somebodys kidney. but thats not your problem. let them make their sales pitch and let the big boss say no. you will have done your job bringing in a toptier solution to the problem. || sounds like the appdatabase teams need to do more digging instead of blaming the network || i recommend taking 2 concurrent packet captures, then analyze in wireshark 1 capture at the sourceclient and 2 capture at the destination serverapplication || smarter replies before mine, but this happened to us when the asic was saturated. might have 10g interfaces but commutative traffic on all interfaces causes traffic to buffer as the asic is saturated. check switch model capacity."
monitoring switches with Prometheus,"hello there! have you ever had an issue like that? context k12, about 1k devices connected per day, 10 vlans one for each building. the vlan with the issues is the students wifi vlan. this vlan is only configured on trunk links with the native vlan being the aps management vlan and all the tagged vlans that should be on that link, including the students one. what bugged me is that even with an ethernet connection configured with the students vlan, i still have constant drops to 10mbps. i already checked stp and arp storms with wireshark, and everything seems fine. important this vlan is present in the entire campus since its for the students wifi. how are you testing and monitoring bandwidth, and at what points? im using iperf and testing with all the students in campus i know that it could be the number of clients, but we had a stable 100mbps for everyone for the past 6 months. what is handling routing for that vlan and subnet? our core switch. what is the bandwidth of your ap switch, switch switch, and building building links? also what do you have for isp bandwidth? everything is configured for 1 gbps. multihomed isp links with fiber at 400mbps each link 2 links. any ideas on what could be the cause of the issue? || not nearly enough information to stat troubleshooting such a problem. how are you testing and monitoring bandwidth, and at what points? what is handling routing for that vlan and subnet? what is the bandwidth of your ap switch, switch switch, and building building links? also what do you have for isp bandwidth? || 802.11b enabled on the aps? || make sure every physical link is running at full duplex. make sure all your interfaces are not taking on packet loss. if they are, check cabling. || do you have igmp snooping turned on? we had issues with android devices generating a ton of traffic. it was not enabled by default on juniper switches managed by mist. also make sure to filter it on the wifi"
monitoring switches with Prometheus,"i am trying to bring up a 100g link from an arista 7280cr3 to an fs which has 4 25g ports, and am struggling with all ports reporting notconnect. the cable im using is with the 5 transceivers appropriately coded using fs.coms programming box. this question is very similar to but now involving an fs switch im miles from ashburn so i cant check the cabling easily other than via remote hands. but ive got two fs switches and two breakout cables going back to this arista, both behaving the same. ive not bothered with trying to combine the ports yet, i just want to see the link layer come up! the arista is configured like this ! interface ethernet81 speed forced 25gfull ! interface ethernet82 speed forced 25gfull ! interface ethernet83 speed forced 25gfull ! interface ethernet84 speed forced 25gfull ! the current state is sh int eth81 ethernet81 is down, line protocol is down notconnect hardware is ethernet, address is 688b.f498.d862 bia 688b.f498.d862 ethernet mtu 10218 bytes, ethernet mru 10240 bytes, bw 25000000 kbit fullduplex, 25gbs, auto negotiation off, unilink disabled down 5 days, 21 hours, 36 minutes, 58 seconds loopback mode none 3 link status changes since last clear last clearing of show interface counters 5 days, 213953 ago 5 minutes input rate 0 bps 0.0 with framing overhead, 0 packetssec 5 minutes output rate 0 bps 0.0 with framing overhead, 0 packetssec 0 packets input, 0 bytes received 0 broadcasts, 0 multicast 0 runts, 0 giants 0 input errors, 0 crc, 0 alignment, 0 symbol, 0 input discards 0 pause input 0 packets output, 0 bytes sent 0 broadcasts, 0 multicast 0 output errors, 0 collisions 0 late collision, 0 deferred, 0 output discards 0 pause output and the fs switches have no interfacespecific configuration, as in interface tfgigabitethernet 049 ! interface tfgigabitethernet 050 ! interface tfgigabitethernet 051 ! interface tfgigabitethernet 052 ! and their interfaces look like fssh int tfg049 indexdec49 hex31 tfgigabitethernet 049 is down , line protocol is down hardware is tfgigabitethernet, address is 649d.99d9.8da7 bia 649d.99d9.8da7 interface address is no ip address interface ipv6 address is no ipv6 address mtu 1500 bytes, bw 25000000 kbit encapsulation protocol is ethernetii, loopback not set keepalive interval is 10 sec , set carrier delay is 2 sec ethernet attributes last link state change time 20250329 080234 time duration since last link state change 0 days, 22 hours, 15 minutes, 15 seconds priority is 0 mediumtype is fiber admin duplex mode is auto, oper duplex is unknown admin speed is 25g, oper speed is unknown flow control admin status is off, flow control oper status is unknown admin negotiation mode is off, oper negotiation state is unknown storm control broadcast is off, multicast is off, unicast is off admin fec mode is auto, oper fec mode is rs bridge attributes porttype access vlan id 1 rxload is 0255, txload is 0255 input peak rate 0 bitssec, at 20250321 060352 output peak rate 0 bitssec, at 20250321 060352 the hardware is detected on the arista side show interfaces transceiver hardware ... name ethernet81 media type 100gbasear4 module presence detected maximum module power w 3.5 maximum slot power w 5.5 wavelength nm 850.0 name ethernet82 media type 100gbasear4 module presence detected maximum module power w 3.5 maximum slot power w 5.5 wavelength nm 850.0 name ethernet83 media type 100gbasear4 module presence detected maximum module power w 3.5 maximum slot power w 5.5 wavelength nm 850.0 name ethernet84 media type 100gbasear4 module presence detected maximum module power w 3.5 maximum slot power w 5.5 wavelength nm 850.0 and on the fs side sh interfaces transceiver interface tfgigabitethernet 049 transceiver type 25gactivecablesfp28 connector type no separable connector mode multimode wavelengthnm na transfer distance cable 10m digital diagnostic monitoring no vendor serial number c24104273694 current diagnostic parameters this module doesnt support ddm! transceiver current alarm information this module doesnt support getting alarm! interface tfgigabitethernet 050 transceiver type 25gactivecablesfp28 connector type no separable connector mode multimode wavelengthnm na transfer distance cable 10m digital diagnostic monitoring no vendor serial number c24104273691 current diagnostic parameters this module doesnt support ddm! transceiver current alarm information this module doesnt support getting alarm! interface tfgigabitethernet 051 transceiver type 25gactivecablesfp28 connector type no separable connector mode multimode wavelengthnm na transfer distance cable 10m digital diagnostic monitoring no vendor serial number c24104273693 current diagnostic parameters this module doesnt support ddm! transceiver current alarm information this module doesnt support getting alarm! interface tfgigabitethernet 052 transceiver type 25gactivecablesfp28 connector type no separable connector mode multimode wavelengthnm na transfer distance cable 10m digital diagnostic monitoring no vendor serial number c24104273692 current diagnostic parameters this module doesnt support ddm! transceiver current alarm information this module doesnt support getting alarm! ive setting the errorcorrection fec modes explicitly to reedsolomon, and ive tried turning it off altogether. ive tried forcing the duplex on the fs side. ive tried turning off flowcontrol on both sides. can anyone steer me towards diagnostics that i might have missed, link parameters that ive forgotten about, or just mutter darkly about the likelihood of this crossvendor link ever working? thanks in advance! || everything ive read states the following when breaking out a single 100g port to 4x 25g links, care must be taken to use the same forward error correction fec mode on both ends of the link to ensure linkup. youve tried to disable both, it said that should bring the link up, unless the fs switch isnt switching from baser || about a decade ago i remember having to get a free? license from arista to make the 7280s work with nonarista qsfps. i also remember looking at the qsfp breakout stuff as a possibility and grimacing at the vendor interop nightmare that would cause. i dont think either of these apply here though, since the hardware shows up. good luck in your quest. || if i remember correctly on that line there is some oddness around gearbox of lanes || most of the times it is the fec mode difference. another thing which you might want to tryout is to enable auto negotiation on both sides."
monitoring switches with Prometheus,"hello, i was recenlty involved in a project in which our agency upgraded approximately 30 cisco 3850 switches to cisco 9300x models. our snmp monitoring tool reported several metrics including device temperature from all the 3850 switches. since we upgraded to the 9300x models and have rescanned the new devices with our monitoring tool, we do not see any temperature monitor availalbe to choose as one of our metrics. all the other metrics appear to be available to report back, but not temperature which is highly critical. we had an instance just yesterday where one of ac units went out in an mdf at one of our branchi sites, and we did not know until i luckily happend to go there for something not related. i would assume that cisco would not have done something to remove this capability in a cost saving measure, but before reaching out to them i wanted to get some feedback if anyone else has experienced or is familiar with this situation. || likely a problem with the monitoring tool. look up the oids and check them by hand. || cisco has changed the environmental snmp mib a few times, probably just need to load the right one or repoint it i dont have any 9300x off hand but id all but guarantee they have temp sensors because other hardware needs it and likely has active fan profiles i do have almost every 9xxx series devices though and every one of them has temp sensors and most actually have inlet and outlet as well which for more general environmental monitoring is nice || what monitoring system? || what oid is your tool checking? ciscoenvmonmib, oid 1.3.6.1.4.1.9.9.13 works."
monitoring switches with Prometheus,"hello, i have a problem with running huawei qsfp28 100g bidi on a huawei s6730 cloud engine. patch version is v600r024hp0021 the bidi is correctly displayed in the switch 100ge104 transceiver information common information transceiver type 100gbaselr4 connector type lc wavelength nm 1309 transfer distance m 300009um125um smf digital diagnostic monitoring yes vendor name huawei vendor part number 02311knu ordering name manufacture information manu. serial number g4o2022623 manufacturing date 2016323 vendor name huawei alarm information warning information diagnostic information temperature celsius 28.99 voltage v 3.41 bias current ma 0.000.00 lane0lane1 0.000.00 lane2lane3 bias high threshold ma 120.00 bias low threshold ma 5.00 current rx power dbm 40.0040.00lane0lane1 40.0040.00lane2lane3 default rx power high threshold dbm 2.50 default rx power low threshold dbm 16.00 current tx power dbm 40.0040.00lane0lane1 40.0040.00lane2lane3 default tx power high threshold dbm 7.00 default tx power low threshold dbm 0.00 following config on the port, but also tested with default settings bhs6730iscsi1rz1display currentconfiguration interface 100ge101 interface 100ge101 port linktype access device transceiver 100gbasefiber fec mode none return i noticed, that there is no light in the bidi, as when i plug the bidi into a hpe switch, i can see the laser. does anyone have an idea how to troubleshoot this issue or what could be the problem? thank you in advance! || "
monitoring switches with Prometheus,"hello, i need some helpadvice before i pull my hair out. we have just bought and set up an private apn with one of our isps. our main mission was to give us and our customers the option to use this setup for devices at remote sites where our network doesnt exist. it will probably most kind of iot devices like programmable plcs and other devices used to monitor and control ventilation, temperture etc. it is working as following we activate a simcard and tie it to our apn. put the simcard in a device and configure the apn settings to go our apn the device sends an dhcprequest and it gets forwarded to our internal dhcp and gets an ipadress from the server based on the clientid which in this case is the phone number on the simcard but in hexadecimal format. now the device is able to reach internal resources and we can reach it from the inside. in the cases weve tested we used laptops with embedded mobile broadband which works fine, aswell as two 4g routers which also works as expected. but as always is it never that easy, these devices at the remote sites doesnt have support for simcards etc and are often more than one device. in these cases we need to have a 4g router infront of them and use it to connect to our apn and if we connect a device to the 4g router with only configuring the apn settings the device gets an ipadress from the 4g routers own dhcppool and thats not what we want. so ive looked at the dhcp settings on the router and we can choose between serverrelay and ive tried to configure the iprelay to go to our internal dhcp server but cant get the dhcprequest from the client to be forwarded to the server. the router itself will have ex but then on the lanside on the router i need to set a ipaddr aswell, what am i supposed to use, ive tried using both a default 192.168.0.1? these are the trouleshootingsteps ive done already used wireshark on the device to see that is sends the dhcprequest it does dowloaded a cpap file from the router itself and i can see that it sees the broadcast from the device and then it forwards it to the dhcpserver checked the firewall rules on the router, nothing gets blocked. used wireshark on the dhcpserver to monitor the traffic dhcpreq doesnt get here monitored our firewall, no dhcpreq seems like it gets through looked at the connections, logs, packet sniffer mirrored and monitored from wireshark the switch ports where the isp forwards the traffic to and i see nothing. for me it seems like it the dhcpreq doesnt get forwarded by the router, when i for example ping the dhcpserver from the router i can see the packets go through the firewall and i see the response on the dhcpserver itself in wireshark. ive also tried using the bridgingippassthrough functions on the router to let the device connceted to the router get the ipaddr the router is supposed to have. when i do this the device gets the routers ipaddr and i can reach interal resources but i am not able to reach the device from inside successfully. when i ping from inside to the device it just says no response found in wireshark on the device. but from my understanding networking is a bit speciell in the mobile world, there is no gateway and devices doesnt get the usual subnetmask but gets an 30? and some devices doesnt like this and therefore fail? idk what my next steps are... here are some relevant pictures topology pcap from 4g router pcap from dhcpserver when trying to ping client when router is in bridgingpassthrough || you cant use a 4g router to bridge onto the mobile network. for dhcp relay to work, youd need to have a dedicated subnet on the lan side of the router, that the dhcp server was configured to hand out addresses for but for that to work the network in the middle would need to route it to the lte routers wan side or over a tunnel. if you are in a position to introduce routes dynamic or otherwise you could assign a subnet behind the 4g router and route it over the mobile network to the routers lte wan address. otherwise best bet is going to be a vpn tunnel back from the lte router to make the network behind it reachable. or a hodge podge of port forwarding and nat and whatnot. || cradlepoint devices can be put in ip passthrough mode. || hello people, thank you for all the help. i got it working after your ideas and tips. this is what i ended up with || every private apn ive been involved with has ipsec tunnel setup between the isp and the company. you should check with your isp about it. || you need to build tunnels back to a main device on your network, unless you can get from your mobile operator to assign static ips per msisdn so they can add static routes back to your terminals. most mobile operators wont do this or dont know how to do this though when i used to work packet core i did for one customer and that thing was labor intensive so we decided not to do it to any other customers."
