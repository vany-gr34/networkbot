
,"looking to setup a smaller network for my local church. primary function will be general wifi utilizing aps, and poe cameras. my intention is to have most, if not all, equipment routing centrally located in the media booth if at all possible. my question is. if i can stay within the distance restriction of catx is there any concern with just running lines to all end nodes rather than placing switches in multiple locations to handle it all.? additional information currently looking at unifi due to all equipment uniformity and reasonable price. open to other options. not a full time network tech, so need an unmanned system. || as long as the cable pathways work out nicely for that, go for it. if youre having a cabling vendor do the work ask them if it makes sense to put a switch in somewhere to make cabling runs simpler ive done that before at some locations. if i have to do 9 lets say 200 runs back to the mdf or decide to put in a switch somewhere to make the cabling easier and future runs cheaper to add, its worth considering. theres a tradeoff at some point where having more equipment to manage and purchase outweighs the benefits, but you have to weigh that. people get very excited about unifi equipment for whatever reason, probably the low price and flashy website stuff. i will say ive had much less hassle with aruba instanton stuff fwiw. the nativefree cloud management and monitoring might be nice in your case, plus the ability to do content filtering right on the aps. || if you can get to everything in 100m then sure. cat5e cat6 if you are running a gig or less. 6a if you ever intend to go faster. try and avoid running data cabling next to power cables or other strong sources of emf . if cant be avoided use shielded cabling for those runs. leave plenty of slack at both ends to allow for maintenance. || cabling sounds fine. i would strongly recommend that they are terminated properly to a patchpanel though then run patches to your routerfirewall."
,"i inherited a network that is a traditional core, distro and access topology. it is an airgap network, so no access to the internet. the network is slowly getting some hardware tech refreshed. im getting two catalyst c9500 and several catalyst c9300 switches to replace the eol switches. the current setup is the vlans are all over the place. the vlans have been extended to different places. some vlans are spanning 56 switches that are daisy chained. i want to make some changes. i dont know if the 7 hops stp issue is still a thing but havent discover if we have it in our network. at the moment, we have ten tenants and we are getting and getting two more this year. im thinking to rebuild a collapsed core c9500s and a c9300 distro and introduce the evpn vxlan to address the vlan situation and hopefully easier to manage. for automation, im going to be using ansible tower since we already have it. i know cisco is going to convince my manager to get the dnac or catalyst center. if the evpn vxlan is valid idea should i stack the two c9500 or treat them as single? 75 of the c9300 will have two links to the c9500 and the remaining 25 only have a single link. the current setup is portchannel regardless if the links isnsingle or dual. should continue using portchannels but make it layer3 or make it routed for each uplink? does the catalyst have a equivalent to epbr? when i was working on nexus, i kind of got the epbr to work. i managed to prevent the intrarouting within the same vrf and able to access them from the external, but couldnt get the intrarouting to work through a singleleg firewall. the intravrf is something i need to implement for this rebuild. thank you || you have a simple switched network. you want to introduce extra complexity with evpn and epbr, but i dont see any motivation of why you need this extra complexity. why do you want to make these changes? what problem are you trying to solve? you havent told us anything about the scale of the network. are you running out of vlans? having vlans spread out over multiple switches is rarely a problem. you choose which vlans to allow on each trunk port, you can do manual vlan pruning there. || i would agree here that you should ask yourself what you gain by introducing vxlan evpn. is it because you would like to simplify the network topology following a spineleaf architecture? that would still, in my opinion, not justify to introduce vxlan. i dont find any justification to run it just because the vlans are all over the place, that is more of a bad network design. you should keep it simple. stack the 9500s core switches and connect each 9300s to the stack and run portchannels between the them. the 9500 would be connected to firewalls in an mlag ish setup were each 9500 have two links to the firewalls. im typing this from my phone so but here is a link to the design im referring to this is a very clean design. this will also improve the vlan management issue you currently face. either you terminate the gws on the switch or on the firewall or you run a mixed setup which i personally dislike, this depends on your needs and requirements. if terminating gws on the switch, i would suggest to run vrfs to at least enhance segmentation and also security. each vrf have transit links to the firewall and intervrf communications would go through the firewall. traffic within the vrfs would stay local on the switch. || vxlan is just another complexity for this sort of setup."
 ,"hi net lords, i am running an environment with an mdf and 9 idfs. mdf is a pair of dell s4128fon. idfs are dell n2048p stacks. all switches are running rstp. i am replacing the idfs with cisco catalyst 9200ls. i would try to run rstp on the ciscos but they only give the option of running mst, rpvst, pvst. we had an issue where one of our stacks was running rpvst and it was not breaking loops, causing a broadcast storm on that stack. i want to make sure i am running the correct spanning tree on these new idf stacks. what do you all recommend i use on the new cisco stacks? i would prefer to keep the spanning tree protocols on the existing switches rstp because we will be replacing each idf weeks apart from each other. btw we are a small to medium sized network with 20 vlans or so. much thanks and happy networking. edit 1 apparently mst mode on a cisco is rstp under the hood. without any customized config, all vlans will be mapped to a single spanning tree instance. this is how rstp works with no flexibility added. mst just provides the flexibility to configure more instances and maps vlans to other instances. rpvst will map each vlan to its own instance. in other words, if you have 200 vlans, you have 200 instances. mst provides the best of both worlds but more setup is involved if you need it. luckily i dont need it! || rpvst is fine up to maybe 200 vlans or so, depending on the hardware platform. after that, mst all the way. || we run mst, even on cisco gear. || i use mst on everything that supports it, honestly. the benefits of rstp, the configurability of pvst, and its an open standard with fairly wide support."
,"hey , i could use some help figuring out the best spot to drop in a ips in a network im working on where weve got multiple sites connected via sdwan over mpls, back to our central data center. the traffic path is basically branch sites hub routers wan firewall internal network were thinking of putting the ips in l2 transparent mode between the hub routers and the wan firewall, so we can inspect traffic coming in from the field before it hits anything important. couple of things im unsure about is this the right spot to put the ips? any issues with sdwan tunnels ipsecgre being broken or not inspected properly in this position? would you recommend placing it somewhere else? anyone have experience using tippingpoint specifically in sdwan setups? appreciate any advice, war stories, or gotchas youve run into. thanks! || if youre not planning on breaking open tls to inspect it and dealing with all of the associated fun of managing that process, id ask your security folks what they hope to actually see on the wire with ips in 2025. || does your firewall not have ips functionality already? if youre using an ngfw like a palo alto or fortinet, theyre already performing threat prevention, sandboxing, malware detection, etc. etc. if youre purchased those subscriptions. the benefits are probably quite low if youre adding another ips platform sitting adjacent to your firewall. || it depends on what threats scenarios you will be using the ips for. if you are worried that someone will break into your ipsec, and s8mple acl wont be enough, then you will need the ips infront of the sdwan router. if you are worried about internal users breaking in through your wan network, then why not enabling ips on your firewall?"
,"hello network enthusiasts, i got the chance to help build a small isp network. we are talking about 6000 customers. i sketched something here the requirements are to keep the network as simple as possible with the equipment they already have in use. the routers are connected to the internet via different ip transit providers on both sides and have ospf and bgp in between. i have implemented some security features. antiipspoofing olt checks ipv4 mac binding learned by dhcp dhcp authentication with option 82 added by olt and checked by dhcp server l2 isolation on olt i want to add features to minimise the risks of the large broadcast domain. for example, i would like to disable arp learning as the router fills the arp table based on dhcp traffic. i think this would prevent scans from the internet flooding the network with arps. but then i would have to make sure that there was some sort of arp sync between the routers. i have also thought about configuring a different vrf for the customer and only exporting subscriberroutes 32 to the default vrf. but this also has some redundancy issues if one router goes down and the other has no learned subscriber routes... i also read about ipsubscriber sessions, but i do not have an aaa server and would be very happy to get around without another server. the setup in the draft would work, but of course there are many security issues, please list anything that comes to mind. open to suggestions and criticism to fix this setup. edit my last attempt was trying to sync the arp tables arp redundancy group 1 peer loopback ohter crt sourceinterface loopback10 interfacelist interface bundleether1.82 id 8 but this unfortunately does no sync the dhcp learned arps only the dynamic ones stored on 0rsp0cpu0 . and as i said i would like to disable dynamic arp learning on the routers. i need the arp with ip to be synced to the second router. crt 01 interface bundleether1.82 description xgsponinternet ipv4 address 192.168.168.2 255.255.254.0 proxyarp localproxyarp ipv4 unreachables disable encapsulation dot1q 82 00cpu0 address age hardware addr state type interface 192.168.168.1 0000.0c07.ac52 interface arpa bundleether1.82 192.168.168.2 5087.892a.c0d4 interface arpa bundleether1.82 192.168.168.21 480f.cf27.27d3 dhcp arpa bundleether1.82 192.168.168.100 000034 9c37.f47d.4528 dynamic arpa bundleether1.82 0rsp0cpu0 address age hardware addr state type interface 192.168.168.2 5087.892a.c0d4 interface arpa bundleether1.82 192.168.168.100 000034 9c37.f47d.4528 dynamic arpa bundleether1.8 crt 02 interface bundleether1.82 description xgsponinternet ipv4 address 192.168.168.3 255.255.254.0 proxyarp arp learning disable localproxyarp ipv4 unreachables disable encapsulation dot1q 82 ! 00cpu0 address age hardware addr state type interface 192.168.168.1 0000.0c07.ac52 standby arpa bundleether1.82 192.168.168.3 e0ac.f13d.4404 interface arpa bundleether1.82 192.168.168.100 000034 9c37.f47d.4528 dynamic arpa bundleether1.82 0rsp0cpu0 address age hardware addr state type interface 192.168.168.3 e0ac.f13d.4404 interface arpa bundleether1.82 192.168.168.100 000034 9c37.f47d.4528 dynamic arpa bundleether1.82 || reading through everything, i dont think this design is going to work from a practical perspective as youve found because youve essentially used an enterprise branch office, dual wan design as your isp design. except you dont have any firewalls at your as edges which means youre wide open to the world with no safeguards and you have no aaa of any kind that could theoretically be used for things like subscriber validation, which basically means a lot of the options you could take to mitigate security issues are nonexistent. since youll probably ignore this and try to push forward anyway, ill at least answer your question on arp sync between asrs. the answer is simply no. arp tables between asrs do not sync and in that platform are treated as local to device only. || proxy arp is no solution for not knowing how routing works. || i havent used this platform in a while, but look into subscriber arp scalemodeenable and bng geo redundancy"
,"hello, im not sure if this is the correct place to ask or if my question is proper but bear with me please. im trying to setup acl rules to block connections initiated by a client to a server, and allow client connections to the server only if they were responses to a connection initiated by the server. the current rules allow connections from the client to all dynamic range ports of the server. my instructor says i should add a rule to block connections from clients, so it would look something like this 10 permit tcp host clientip eq 100 host serverip range 4000065535 15 deny ip clientip 0.0.0.0 any 20 permit udp host clientip eq 100 host serverip range 4000065535 30 deny ip any any now im not a professional, but this doesnt make sense for me. how can we allow and block at the same time. do the rules satisfy the requirements? or should i remove the rules and add other ones? if yes, what would they be? please note that this is for a university course, and im no expert in networks so go easy. || permit tcp clientsubnetorany host serverip established applied on traffic outbound toward the server would be relevant here. || think about how inbound and outbound acls work. also, think about the order in which you assign allow and deny acls, and what might override what. || a long time ago, i had to set up some acls with the cisco ios firewall feature set. that taught me a lot about firewalls. essentially youd set up a tracker in one direction and an acl in the other direction. the acl would be rather tight, only allowing the inbound side of the services you wanted to expose. the tracker would detect any outbound new connections from your servers, and dynamically add new temporary openings at the top of that acl for the back side of those outbound connections. if you wanted to prevent your servers from hitting certain things, you could add a second acl in parallel with the tracker that had explicit denies for those things then an explicit permit for everything else. it was somewhat primitive in overall functionality but the fact that you could see the dynamic temporary openings in the acl made it a lot easier to comprehend."
,"its wednesday! time to get that crap thats been bugging you off your chest! in the interests of spicing things up a bit around here, were going to try out a rant wednesday thread for you all to vent your frustrations. feel free to vent about vendors, coworkers, price of scotch or anything else network related. there is no guiding question to help stir up some ragefeels, feel free to fire at will, ranting about anything and everything thats been pissing you off or getting on your nerves! note this post is created at 0000 utc. it may not be wednesday where you are in the world, no need to comment on it. || the number of times ive gotten on the phone with vendor support and told them how to troubleshoot their own product is way too damn high. just yesterday a vendor was telling me we are blocking ssh to a certain ip. umm no, we are not, that ip doesnt respond to ssh from any source ip across the entire internet. so until it responds to ssh i cant help you fix it. i almost want ai to takeover first level support because at least it would understand when i say it doesnt respond to ssh from any source ip i try ai yes ive tried to ssh to that ip and i cannot also.. i see here in our knowledge base that ip is down for maintenance and is a backup so this test failing is not valid for the issue we are seeing. you have also told me this test fails on sites that are not having the issue so this cant be the problem first level support that test fails so you must fix it before we can move forward. fuck my life. || never ceases to amaze me how little other it people know about networking. good for my job security, bad for my mental state having to explain the same shit over and over again. no you cant move that box across campus and expect it to work with the same ip. || goddamn, saw a job description that looked interesting. senior level, interesting technology stack so i apply. technical interview comes around, 90 operational work and and basic changes that any monkey with a script could do. i dont know what makes me angrier, that they are wasting my time or that they are surprised that i withdrew my candidacy midinterview."
,"hello, assuming that our network is good. i just wanted to know if lldp naturally shows multiple lldp neighbor on interfaces. like if on my et11 i have a switch a connected to 10 others switchs on its side, it will show all the switchs ? isnt cdp had an option like show cdp neighbor local or remote something like that ? thanks, regards. edit datacenter environment arista switchs all runs lldp by default my arista switch has port configured in tap mode, i enabled lldp by using this guide on arista site || 802.1d2004 7.12.6 reserved addresses frames containing any of the group mac addresses specified in table 710 in their destination address field shall not be relayed by the bridge. table 710 contains the 16 addresses from 0180c2000000 to 0180c200000f. lldp frames are destined for one of these addresses 0180c200000e, i think? and therefore will not be forwarded through an 802.1d compliant bridge. only frames sourced by the bridge will reach the neighboring device. this is why youre accustomed to seeing only a single neighbor. when multiple lldp speakers are connected to a multiaccess device that doesnt implement 802.1d a hub, an unmanaged switch, a switch with stp disabled, etc... then theyll all see each other and each device will know about multiple neighbors on a single port. i originally typed the last address as ending in ff, which would have been 256 addresses. only 16 addresses 00 through 0f are reserved. || got random third party stuff in there not handling lldp but forwarding frames from multiple lldp things, like dumb switches at the very least? used to have this with cdp when a midtier whitebox vendor didnt handle cdp but did handle lldp. on my ciscos either side id see tens of cdp neighbors simply because it kept forwarding every single cdp frame. || seen it twice p2mp wireless bridges expected behavior buggy iosxe software unexpected"
,"hey everyone, im a network admin for a school district and we have started installing ip intercom systems and using more and more airplay style devices. this means that i want to start managing multicasting more on our network. ive not had to mess with igmp snooping or pim before and am trying to find some good documentation and guides on how to set this up. our district is a ring network with ruckus icx 8200 switches running out buildings and a cisco nexus 9000 series as our core switch. everything later 3 is handled on our nexus. does anyone have any documentation or guides on how to set up igmp snooping and pim on this kind of network. my hope is for multicasting traffic to be routed to the nexus to then go to its destination instead of being broadcast across the vlan like normal. im assuming pim would be enabled on the nexus with an interface in each vlan and the ruckus switches would have igmp snooping turned on. though idk if theyd be set to passive or active with a querier ip. please let me know if im also misunderstanding something as ive had to try and learn a lot about this in a short time. || conceptually igmpv3mldv2 snooping on the l2 switches and aps if they have the feature. pimsm would run on the layer 3 cisco switch on every layer 3 subinterface vlan. ive never configured pim on cisco myself, but this should help you"
  ,"i have been searching to try and find an answer but i keep coming up blank. so any thoughts will be appreciated. i have asked both dell software support and dell networking but neither of them has an answer. the networking group does not have any best practice for how to setup the switch for use with hyperv to best take advantage of vlt networking. i have dell pro support plus on all my equipment. the dell network team says it is a hyperv question on how they want it setup. the dell software support says this is a dell networking question and they both think they are independent. i am running hyperv and using powershell to create a virtual set using hypervport for load balancing. i have a 3 node cluster running 75 virtual servers on the cluster set does not support lacp my hyperv host are connected to two dell switches that are running dell os10 setup with vlt all servers are the same the following is an example of one server 1 connected to switch 1 with 2 ports connected to switch 2 with 2 ports all 4 ports on server 1 are in a single set virtual switch i have added host os, cluster network and backup network as virtual nics off the main set so the os sees the host os, cluster network and backup network iscsi is on dedicated nics that are not part of set and are using mpio with a nic connected to each switch. to best handle efficient routing of traffic between virtual servers and fast notification of down link events what is the preferred method of setup from the switch side of the equation. i run 10 rds session host servers using fslogix for profile storage so network latency matters to give my users a good experience. option 1 do nothing on the ports at the switch level. this requires that all traffic be routed and can put a lot of traffic on the backplane of the vlti interface between the switches because it does not optimize traffic. option 2 setup a port channel with lacp set to static. this will communicate to the vlt switches the group of ports are together for routing and notification and not creating loops. my understanding is this also helps with routing of traffic and notification during loss of 1 switch i.e. maintenance windows for switch. option 3 doing an lbfo nic team that does support lacp then apply the set switch to the team was an option but is not the recommended method from microsoft. also this only gives you one vmmq because the set only sees one nic so it cannot take advantaged of all 4 nics for offloading traffic. option 4 some other method best load balancing for vlt switches vnic is the guest nic and pnic is the physical nic currently all my virtual servers have 1 vnic best practice from microsoft is to use hypervport for all 10gb or faster nics. option 1 hypervport this basically sets a vm to a card the distribution is done by the os and just load them up in a round robin fashion. this vnic1 connects to pnic1 vnic2 connects to pnic2 vnic3 connects to pnic3 vnic4 connects to pnic4 vnic5 connects to pnic1 etc. option 2 dynamic the traffic from vnics gets send out on all 4 pnics in round robin but only one pnic can receive traffic. i do not know if it the process is smart enough to know that it is talking with a vm guest that also on the same switch then it would only send out on the pnics that are connected with that same switch. this could generate a lot of traffic on the vlti backplane if half of the packets are coming from the other switch. i must be over thinking this which is not unusual for me but the lack of documentation is pretty astounding considering this technology has been around for 10 years. || vlt seems to be the dell version of vpc. dont do anything on the switches, set is switch independent and works fine as is. || yep. no fancy config on switches. how load is balanced and bandwidth utilized depends on if the port is set to dynamic or hyper v. you should probably use hyperv port for your vms. refer to the guide from lenovo below which details set requirements and setup for hyperconverged. it is the same for converged, but includes rdma setup. microsoft also has documentation on this on learn.microsoft.com. || yes you dont really do any lag or anything. just present the ports and set itself will handle it."
