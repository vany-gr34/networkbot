IA 5010 Alexander Semaan 1 Enterprise Network Architecture Paper Part 1 1. Network Diagram Attached as visio file. 2. Diagram Description The n etwork architecture utilized for Farm -Vacations ’ web app hosting is very careful ly designed to maximize ef ficiency and se curity. The network was dissected into 7 zones, as ad vised by the SANS Institu te: 
- Internet Zone: It is quite simply used to symb olize the internet; all web server request s come from this zone, as well as the B2B V PN connection from Farm -Vacatio ns’ team. 
- External DMZ: This zone contains all servers that users from the inte rnet zone need to directly access; this includes the IIS Web Servers, DNS Server, Inventory Management Server, RDP Server, as well as FTP Server and Mail Server (that were added although not required, because they are definitely needed for good service to Farm -Vacations ’ team). 
- Restricted Zone: It contains al l the Databases (SQL 2016 DB ) and sensitive information. - Enterpri se Zone: It contains Connected Network ’s web server and application server main tenance team. Using comp any computers, t his team can modify and update the website and all three tiers of the website deployment that will be discussed later. 
- Extra net Zone: It contains Farm -Vacations ’ team that VPNs into the network from their offices elsewhere (crossing through the internet) in order to use an inventory management portal, using company computers. 
- Internal DMZ: This zone segregates less secure zones from the Restricted Zone where all the data is stored in order to increase security through proper tiering; this zone includes the Application Server and the Authentication Server. 
IA 5010 Alexander Semaan 2 
- Management Zone: This is one of the most important zones and the one in need of the highest security, besides the Restricted Zone. It contains all the system logs gathered from all the systems and components on the network, and it is where the security and ad min team analyze and review logs. Additional ly, this zo ne is used to manage and configure all the networking and security components on the network, in cluding firewalls and IDS/IPS. 3. Systems and Compon ents Description First, the use of the different servers will be analyze d. In order to provide Farm -Vacations with a proper website infrastructure, the use of 3 -tiered web site deployment was invoked. In tier 1, we have 3 IIS Web Servers integrated with a load balancer to manage high -traffic or to act as minor protection against DoS attacks. Once a user accesses the web servers, any actions and commands that require invoking the database, go through the Application Server that is in tier 2, that in turn gets or mani pulates the required information from the SQL Database Server 2016, which is considered as tier 3. On another note, the DNS server ’s job is pretty str aightforward in terms of resolving the URL “www.farmvacations.com ” to the IP 54.168.122.129. The Inventory Management Server is used by Farm -Vacations ’ team, that logs in to the inventory management portal using credentials. Access to this server is uniquely granted to the Farm - Vacations ’ offices, and the credentials are authenticated by the Authentication Server, which in turn grants the Inventory Management Server access to the SQL Data base. Per the r equirements, the Connected Network ’s team in charge of maintaining and updat ing the website needs to Remote -in to the IIS Web Ser vers and the Application Server. To do that efficiently and in a well monitored fashi on enhancing se curity, an RDP Server, with authentication and redirecting abilities, is deployed and placed in the External DMZ. In return, an RDP client process must be running on the IIS Web Ser vers and the Application Server, with proper firewall configurations. IA 5010 Alexander Semaan 3 Even though not mentioned in the requirements, a n IMAP Mail Server and an FTP server were added for convenience, customer support, file -sharing and communication. Regarding the integration of Farm -Vacations ’ offices and team, a TLS Full Tunnel VPN was designed for the Business -to-Business connection over the internet. TLS was chosen instead of IPSec because it has slightly better security in this case, especially since IPSec only uses datagrams, whereas TLS uses TCP sessions over port 443, which was a requirement. For log manage ment, a Compartmentalized Log Management Architecture was deployed using a 3-tier system; logs from every Network Zone w ere separately collected for better management and analysis. All logs from each zone (tier 1) go through a lo ad balancer before being stored in two log collect ors per zone (tier 2). The stored logs are then analyzed and monitored by Connected Network ’s security and admin team (tier 3). This all belongs to the Manag ement Zone, which also collects logs of its elf. For mana gement a nd configuration purpose s, an IDS/IPS admin and a Firewall admin have access to the IDS/IPS and Fir ewalls respectively; they reside in the Management Zone as well. Firewalls, IPSs and IDSs were deployed as well, but these will be detailed in fur ther ste ps. 4. Network Subnets Description The Network was subnetted in a rather straightforward manner, using IPv4 addressing scheme. Subnets were formed after analyzing the needs of each zone in terms of number of devices connected. Each Zone ha s its separate set of IPs: - 10.24.10.0/24 was divided into three subnets for each of the following zones: 10.24.10.0/28 for the External DMZ (up to 14 devices on the subnet ), 10.24.10.16/29 for the I nternal DMZ (up to 6 devices on the subnet), 10. 24.10.24/29 for the Restricted Zone (up to 6 devices on the subnet). 
IA 5010 Alexander Semaan 4 
- 10.54.90.0/24 was not divided but was limited to the use of 6 devices (10.54.90.0/29) since not more are needed right now (could be increase d if th e Farm -Vacations team increases over 6 users) 
- 10.10.10.0/24 was divided into two t o satisfy the needs of each zone: 10. 10.10.0/27 for the Management Zone since it does n’t have over 30 devices and 10. 10.10.32/29 fo r the Enterprise Zone since it doesn ’t need more than 6 devices right now. 5. Firewall Rules and Policies (The configurations covered are for the firewalls that are required, not the ones added, in order to meet length requirements) First -Line Firewall – This firewall is the first line of defen se fac ing the Internet Zone and should have carefully administ ered rules. Rule Type Source Address Destination Add ress Port Action 1 TCP * 10.24.10.3 443 Allow 2 TCP 10.24.1 0.3 * 443 Allow 3 TCP 10.10.10.0/27 (This firewall ’s IP) 22 Allow 4 TCP (This firewall ’s IP) 10.10.10.0/27 22 Allow 5 * * 10.24.10.4 53 Allow 6 * 10.24.10.4 * 53 Allow 7 TCP * 10.0.0.0 /8 * Deny 8 UDP * 10.0.0.0/8 * Deny Inventory Management Firewall Rule Type Source Address Destination Add ress Port Action 1 TCP 10.54.90.* 10.24.10. 7 443 Allow 2 TCP 10.24.1 0.7 10.54.90.* 443 Allow 3 UDP 10.24.10.7 10.10.10.0/27 514 Allow 4 TCP 10.10.10.0/27 (This firewall ’s IP) 22 Allow TCP (This firewall ’s IP) 10.10.10.0 /27 22 Allow 5 TCP * 10.0.0.0 /8 * Deny 6 UDP * 10.0.0.0/8 * Deny 
IA 5010 Alexander Semaan 5 These were two examples of how the f irewall rules and policies sho uld look like for proper contr ol. In general, all firewalls must allow access on port 22 to and from subnet 10.10.10.0/27 belonging to Management Zon e. RDP firewall, IIS Web firewall and Application firewall must a llow subsequent traffic on port 3389 for subnet 10.10.10.0/27. Restricted Zone firewall and Application firewall must allow subs equent traffic on ports 1433 for IPs 10.24.10.18 (App server), 10.24.10.26 (DB1) and 10.24.10.27 (DB2). Management firewall must accept subsequent traffic on port 22 from its subnet 10. 10.10.0/27 to all firewall IPs in the network, as well as incoming traffic on port 514 from 10.0.0.0 /8 to 10. 10.10.0/7 for log management. Part 2 1. Security Controls Implemented The most notable security control that was inte grated in thi s network, w as the redundant use of Firewalls to ma ximize security and access control. By adding a firewall after each server, it extremely mitigates the likelihood that a n infected server can access other resourc es on the network freely, and it maxim izes assurance to the system. Adding an RDP Server was done to increase security, since it allows more precise and efficient monitoring of access requiring an RDP connect ion (done by Connected Net work ’s team). Again, as extra security measure, an Authentication Server was added to verify login credentials and other secure connections like the inventory management portal used b y Farm -Vacation s’ team. A Compartmentalized Log Management Architecture was deployed to increase security over a regular Baseline Log Management Architecture, because it splits log management in a more efficient manner, by zone. Next, IDS and IPS sensors were deployed to further i ncrease security and to better monitor and prevent attacks on the network where required. The hard part is knowing how and where to deploy 
IA 5010 Alexander Semaan 6 IPS sensors specifically, because as good a tool as they might seem to be, th ey can work against the network. In fact, a lot of false positives tend to happen, and some legitimate traffic can be blocked and some essential processes and services can be blocked, that could result in down -times, tarnishing the website ’s reputation. Additionally, IPS sensors c an consider ably increase latency which could impact services that are sensitive to re sponse -time. Hence, Host -Based and Network - Based IDS sensors were deployed for two zones: External DMZ, Internal DMZ and Internet Zone. These areas are more risk tolerant areas in the netwo rk, where a lot of traffic passes through. In the other zones that have access to highly sensitive areas of the network, IPS sensors were deployed, notably in the Restricted Zone, Enterprise Zone, Ext ranet Zone and Management Zone. 2. Additional threats and mi tigation Some weaknesses that are seen in the system are most ly along the lines of backing up the system s, servers and databases that are deplo yed. For the SQL Database Serv er, it is advised implement a RAID 1 0 Server to store the website ’s data. As for the servers, it is advised to have at least one backup server for each running server, that would be on standby in case one of the servers fails. References 
- Northeastern University IA 5010 Week 8 Course Slides. - Obregon, Luciana. Infrastructure Security A rchitecture for Effective Security Monitoring. Sans Institute Information Security Reading Room.